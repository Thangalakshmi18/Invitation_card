<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Wedding Invitation</title>

<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@500;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="styles.css">
</head>
<body>

<div class="page">

  <!-- FIRST IMAGE (BACKGROUND) -->
  <div class="parallax-bg" id="bg1">
    <img src="assets/Seg_1.jpg" alt="Couple" />
  </div>

  <!-- DANCING ROPE -->
  <div class="rope-message" id="ropeMessage">
    <span>ðŸŽ€ Pull the rope to reveal the love story ðŸŽ€</span>
    <div class="rope"></div>
  </div>

  <!-- SECOND IMAGE (MIDDLE LAYER) -->
  <div class="parallax-bg" id="bg2">
    <img src="assets/2ndpg.JPG" alt="Middle Image" />
    <div class="overlay">
      <blockquote class="quote">
        Two souls, one heart,<br>
        a lifetime of love.
      </blockquote>
    </div>
  </div>

  <!-- THIRD IMAGE (FINAL LAYER) -->
  <div class="parallax-bg" id="bg3">
    <img src="assets/dp.JPG" alt="Final Image" />
    <div class="overlay final-overlay">
      <div class="final-card">
        <h2 class="marriage-text">Marriage</h2>
        <p class="marriage-text">
          15/03/2026 â€” 10:00 AM<br>
          MAVMM Mahal, Madurai
        </p>

        <h2 class="reception-text">Reception</h2>
        <p class="reception-text">
          14/03/2026 â€” 7:00 PM<br>
          MAVMM Mahal, Madurai
        </p>

        <div class="auto-contrast">
          With folded hands and hearts full of joy,<br>
          we warmly welcome you.<br>
          <a href="https://www.google.com" target="_blank" class="google-link">Visit Google</a>
        </div>
      </div>
    </div>
  </div>

</div>

<script>
/* SAFE ZOOM LOCK */
document.addEventListener('gesturestart', e => e.preventDefault());
document.addEventListener('touchmove', e => {
  if (e.touches.length > 1) e.preventDefault();
}, { passive:false });
window.addEventListener('keydown', e => {
  if ((e.ctrlKey || e.metaKey) && ['+','-','0'].includes(e.key)) {
    e.preventDefault();
  }
});

/* CINEMATIC MULTI-LAYER SCROLL LOGIC */
const layers = [
  {el: document.getElementById('bg1'), speed: 0.2},
  {el: document.getElementById('bg2'), speed: 0.4},
  {el: document.getElementById('bg3'), speed: 0.6}
];

const ropeMessage = document.getElementById('ropeMessage');
let stage = 0; // 0 = first page, 1 = second page, 2 = third page

window.addEventListener('wheel', (e) => {
  const delta = e.deltaY;

  if(delta > 0){ // scroll down
    if(stage === 0){
      layers[1].el.style.transform = `translateY(0px)`; // show second image
      ropeMessage.style.opacity = 0;
      stage = 1;
    } else if(stage === 1){
      layers[2].el.style.transform = `translateY(0px)`; // show third image
      stage = 2;
    }
  } else { // scroll up
    if(stage === 2){
      layers[2].el.style.transform = `translateY(100vh)`; // hide third
      stage = 1;
    } else if(stage === 1){
      layers[1].el.style.transform = `translateY(100vh)`; // hide second
      ropeMessage.style.opacity = 1;
      stage = 0;
    }
